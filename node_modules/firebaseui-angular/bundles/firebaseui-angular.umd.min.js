!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("angularfire2/auth"),require("firebaseui"),require("tslib"),require("firebase"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular",["exports","@angular/core","angularfire2/auth","firebaseui","tslib","firebase","@angular/common"],r):r(e["firebaseui-angular"]={},e.ng.core,null,null,e.tslib,null,e.ng.common)}(this,function(e,n,r,b,g,t,i){"use strict";var o=function(){function e(e){window.firebaseUiInstance||(window.firebaseUiInstance=new b.auth.AuthUI(e.auth)),this.firebaseUiInstance=window.firebaseUiInstance}return e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r.AngularFireAuth}]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e(n.inject(r.AngularFireAuth))},token:e,providedIn:"root"}),e}(),a=function(){},u=function(){},I={AccountChooser:0,OneTap:1,None:2};I[I.AccountChooser]="AccountChooser",I[I.OneTap]="OneTap",I[I.None]="None";var s={Google:0,Facebook:1,Twitter:2,Github:3,Password:4,Phone:5};s[s.Google]="Google",s[s.Facebook]="Facebook",s[s.Twitter]="Twitter",s[s.Github]="Github",s[s.Password]="Password",s[s.Phone]="Phone";var v={Popup:0,Redirect:1};v[v.Popup]="Popup",v[v.Redirect]="Redirect";var c=t.auth.GoogleAuthProvider,l=t.auth.FacebookAuthProvider,h=t.auth.TwitterAuthProvider,f=t.auth.GithubAuthProvider,p=t.auth.EmailAuthProvider,P=t.auth.PhoneAuthProvider,d=function(){function d(e,r,t){this.angularFireAuth=e,this.firebaseUiConfig=r,this.firebaseUIService=t,this.signInSuccessCallback=new n.EventEmitter}return d.getAuthProvider=function(e){switch(e){case s.Google:return c.PROVIDER_ID;case s.Facebook:return l.PROVIDER_ID;case s.Twitter:return h.PROVIDER_ID;case s.Github:return f.PROVIDER_ID;case s.Password:return p.PROVIDER_ID;case s.Phone:return P.PROVIDER_ID}},d.prototype.ngOnInit=function(){var r=this;this.subscription=this.angularFireAuth.authState.subscribe(function(e){if(!e){if(0===r.firebaseUiConfig.providers.length)throw new Error("There must be at least one AuthProvider.");r.firebaseUIPopup()}})},d.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},d.prototype.getUIAuthConfig=function(n){var i=this,e=[];try{for(var r=g.__values(n.providers),t=r.next();!t.done;t=r.next()){var o=t.value;if(o.customConfig){var a=(o=o).customConfig;a.provider=d.getAuthProvider(o.provider),e.push(a)}else e.push(d.getAuthProvider(o))}}catch(p){l={error:p}}finally{try{t&&!t.done&&(h=r["return"])&&h.call(r)}finally{if(l)throw l.error}}var u,s=n.tos?n.tos:"",c="popup";switch(n.method){case v.Redirect:c="redirect";break;case null:case v.Popup:}switch(n.credentialHelper){case I.None:u=b.auth.CredentialHelper.NONE;break;case I.OneTap:u=b.auth.CredentialHelper.GOOGLE_YOLO;break;case I.AccountChooser:default:u=b.auth.CredentialHelper.ACCOUNT_CHOOSER_COM}var l,h,f={callbacks:{signInSuccess:function(e,r,t){return i.signInSuccessCallback.emit({currentUser:e,credential:r,redirectUrl:t}),!!n.signInSuccessUrl}},signInFlow:c,signInOptions:e,tosUrl:s,credentialHelper:u};return n.signInSuccessUrl&&(f.signInSuccessUrl=n.signInSuccessUrl),f},d.prototype.firebaseUIPopup=function(){this.firebaseUIService.firebaseUiInstance.start("#firebaseui-auth-container",this.getUIAuthConfig(this.firebaseUiConfig))},d.decorators=[{type:n.Component,args:[{selector:"firebase-ui",template:'\n    <div id="firebaseui-auth-container"></div>'}]}],d.ctorParameters=function(){return[{type:r.AngularFireAuth},{type:a},{type:o}]},d.propDecorators={signInSuccessCallback:[{type:n.Output,args:["signInSuccess"]}]},d}(),A=function(){function r(){}return r.forRoot=function(e){return{ngModule:r,providers:[{provide:a,useValue:e}]}},r.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule],declarations:[d],exports:[d]}]}],r}();e.FirebaseuiAngularLibraryService=o,e.FirebaseuiAngularLibraryComponent=d,e.FirebaseUIAuthConfig=a,e.FirebaseUISignInSuccess=u,e.CredentialHelper=I,e.AuthProvider=s,e.AuthMethods=v,e.FirebaseUIModule=A,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=firebaseui-angular.umd.min.js.map